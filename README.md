## Project Brief

This Project is for a Laravel Challenge by the Pentest People to create a laravel project that creates and processes tickets, along with endpoints to view information about the tickets.

### General Rules
- Implement the solution using Laravel Framework;
- Write unit tests using PHPUnit Framework;
- Generate dummy data using model factories.
- Create a structured folder layout
- Use Laravel Best Practices
- OpenAI Solutions will not be viewed.

## Steps to use project

- After opening the project run `composer install` to be able to use the php artisan commands.
- Run the command `php artisan key:generate` as an application encryption key is needed for someone else to run this.
- Copy the `.env.example` file and rename it `.env`. Database type is set to mysql and there is a DB name. User is set to root, if your local setup for mysql root user requires a password, put your password in.
- In a terminal in the project folder, execute the command `php artisan migrate`, which will create a mysql Database and the tables needed.
- At this point its best to run the tests, the tests refresh the Database so use the command `vendor/bin/phpunit --testdox` to run the feature tests to see if tickets can eb retreived, stored in the Database and Updated.
- Use the following command, `php artisan db:seed` which will create 3 users in the DB to eb assigned to the created tickets.
- Run the following command, `php artisan schedule:work` which will start the scheduler for creating and processing tickets. Leave this running for tickets to generate and save to the Database.
- Run `php artisan serve` to start the development server and allow endpoints to be accessed.

### Endpoints to use

Either using postman or curl, use the following endpoints to see information about the tickets.

`GET http://127.0.0.1:8000/tickets/open` To see all the Unprocessed tickets in a paginated to 10 list.
`GET http://127.0.0.1:8000/tickets/closed` To see all the Processed tickets in a paginated to 10 list.
`GET http://127.0.0.1:8000/users/{email}/tickets` To see all the tickets a user has submitted.
{email} wants to be an email address from one of the 3 users created, in mysql `select * from users;` and copy one of the email addresses into this endpoint.
`GET http://127.0.0.1:8000/stats` Will return the following stats; total number of tickets, total number of processed tickets, name of the user with the highest created tickets and the time the last ticket was processed.



