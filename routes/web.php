<?php

use App\Http\Controllers\TicketController;
use Illuminate\Support\Facades\Route;

Route::get('/', function () {
    return view('welcome');
});

// Route to get all open tickets
Route::get('/tickets/open', [TicketController::class, 'getOpenTickets'])->name('tickets.open');

// Route to get all closed tickets
Route::get('tickets/closed', [TicketController::class, 'getClosedTickets'])->name('tickets.closed');

// Route to get ticket of user by email address
Route::get('users/{email}/tickets', [TicketController::class, 'getTicketsByUser'])->name('tickets.user');

Route::get('stats', [TicketController::class, 'stats'])->name('tickets.stats');

// Ticket Routes
Route::get('tickets', [TicketController::class, 'index'])->name('tickets.index');

Route::post('tickets', [TicketController::class, 'store'])->name('tickets.store');

Route::match(['put', 'patch'],'tickets/{ticket}', [TicketController::class, 'update'])->name('tickets.update');
